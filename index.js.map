{"version":3,"file":"index.js","sources":["../src/js/soundwave-api.js","../src/js/modal.js","../src/js/artists.js","../src/js/feedback.js","../src/js/header.js"],"sourcesContent":["import axios from 'axios';\n\nexport const BASE_URL = 'https://sound-wave.b.goit.study/api';\n\nexport async function fetchArtists(page = 1, limit = 8) {\n  try {\n    const response = await axios.get(`${BASE_URL}/artists`, {\n      params: { page, limit },\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching artists:', error);\n    throw error;\n  }\n}\n\nexport async function fetchArtistById(id) {\n  try {\n    const response = await axios.get(`${BASE_URL}/artists/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching artist with ID ${id}:`, error);\n    throw error;\n  }\n}\n\nexport async function fetchAlbumsByArtist(id) {\n  try {\n    const response = await axios.get(`${BASE_URL}/artists/${id}/albums`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching albums for artist with ID ${id}:`, error);\n    throw error;\n  }\n}\n\n// Відгуки\nexport async function fetchFeedbacks() {\n  try {\n    const response = await axios.get(`${BASE_URL}/feedbacks`);\n\n    // Якщо API обертає дані у response.data.data\n    if (Array.isArray(response.data)) {\n      return response.data;\n    } else if (response.data.data && Array.isArray(response.data.data)) {\n      return response.data.data;\n    } else {\n      // Повертаємо порожній масив, якщо формат незвичний\n      return [];\n    }\n  } catch (error) {\n    console.error('Error fetching feedbacks:', error);\n    throw error;\n  }\n}\n\nexport async function postFeedback(feedbackData) {\n  try {\n    const response = await axios.post(`${BASE_URL}/feedbacks`, feedbackData);\n    return response.data;\n  } catch (error) {\n    console.error('Error posting feedback:', error);\n    throw error;\n  }\n}\n","import { fetchArtistById, fetchAlbumsByArtist } from './soundwave-api';\nconst SPRITE_URL = new URL('../img/sprite.svg', import.meta.url).href;\n\nconst modal = document.getElementById('artist-modal');\nconst overlay = modal.querySelector('.modal-overlay');\nconst closeBtn = modal.querySelector('.modal-close');\nconst loader = document.getElementById('loader');\nconst albumsContainer = document.getElementById('artist-albums');\nconst gallery = document.querySelector('.artist-gallery');\n\nlet dynamicListeners = [];\n\n// format duration of track\nfunction formatDuration(ms) {\n  if (!ms || isNaN(ms)) return '-';\n  const totalSeconds = Math.floor(ms / 1000);\n  const minutes = Math.floor(totalSeconds / 60);\n  const seconds = totalSeconds % 60;\n  return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n}\n\nasync function openArtistModal(artistId) {\n  modal.classList.remove('hidden');\n  document.body.style.overflow = 'hidden';\n  loader.style.display = 'block';\n\n  try {\n    const artist = await fetchArtistById(artistId);\n    await populateModal(artist);\n    loader.style.display = 'none';\n  } catch (err) {\n    console.error(err);\n    loader.textContent = 'Error loading data';\n  }\n}\n\nasync function populateModal(artist) {\n  document.getElementById('artist-name').textContent = artist.strArtist;\n  document.getElementById('artist-image').src = artist.strArtistThumb || '';\n\n  // Years active\n  const yearsEl = document.getElementById('artist-years');\n  if (artist.intFormedYear && artist.intDiedYear) {\n    yearsEl.textContent = `Years active: ${artist.intFormedYear} – ${artist.intDiedYear}`;\n  } else if (artist.intFormedYear && !artist.intDiedYear) {\n    yearsEl.textContent = `Years active: ${artist.intFormedYear} – present`;\n  } else {\n    yearsEl.textContent = 'Years active: information missing';\n  }\n\n  // Sex / Members\n  const genderEl = document.getElementById('artist-gender');\n  const membersEl = document.getElementById('artist-members');\n  if (artist.strArtistType === 'person') {\n    genderEl.textContent = `Sex: ${artist.strGender || 'information missing'}`;\n    genderEl.classList.remove('hidden');\n    membersEl.classList.add('hidden');\n  } else {\n    membersEl.textContent = `Members: ${\n      artist.intMembers || 'information missing'\n    }`;\n    membersEl.classList.remove('hidden');\n    genderEl.classList.add('hidden');\n  }\n\n  document.getElementById('artist-country').textContent = `Country: ${\n    artist.strCountry || 'information missing'\n  }`;\n  document.getElementById('artist-bio').textContent = `Biography: ${\n    artist.strBiographyEN || 'information missing'\n  }`;\n\n  // Genres\n  let genresText = 'information missing';\n  if (Array.isArray(artist.genres)) {\n    genresText = artist.genres.join(', ');\n  } else if (typeof artist.genres === 'string') {\n    genresText = artist.genres;\n  }\n  document.getElementById(\n    'artist-genres'\n  ).textContent = `Genres: ${genresText}`;\n\n  // Albums\n  try {\n    const albums = await fetchAlbumsByArtist(artist._id);\n    albumsContainer.innerHTML = '';\n\n    albums.albumsList.forEach(album => {\n      const albumDiv = document.createElement('div');\n      albumDiv.classList.add('album');\n\n      const tracks = album.tracks || [];\n\n      const headerHtml = `\n        <div class=\"album-header\">\n          <span>Track</span>\n          <span>Time</span>\n          <span></span>\n        </div>\n      `;\n\n      const tracksHtml = tracks\n        .map(track => {\n          let youtubeLink = '';\n          if (track.movie) {\n            const link = document.createElement('a');\n            link.href = track.movie;\n            link.target = '_blank';\n            link.rel = 'noopener'\n            link.classList.add('youtube-link');\n            link.setAttribute('aria-label', 'YouTube link');\n\n            const svg = document.createElementNS(\n              'http://www.w3.org/2000/svg',\n              'svg'\n            );\n            svg.setAttribute('class', 'icon-youtube');\n            svg.setAttribute('width', '21');\n            svg.setAttribute('height', '15');\n\n            const use = document.createElementNS(\n              'http://www.w3.org/2000/svg',\n              'use'\n            );\n            use.setAttribute('href', `${SPRITE_URL}#icon-youtube`);\n            use.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', `${SPRITE_URL}#icon-youtube`);\n\n            svg.appendChild(use);\n            link.appendChild(svg);\n\n            youtubeLink = link.outerHTML;\n          }\n\n          return `\n            <li>\n              <span>${track.strTrack}</span>\n                <div class=\"track-meta\">\n                  <span>${formatDuration(track.intDuration)}</span>\n                    ${youtubeLink}\n                </div>\n            </li>\n          `;\n        })\n        .join('');\n\n      albumDiv.innerHTML = `\n        <h3>${album.strAlbum}</h3>\n        ${headerHtml}\n        <ul>\n          ${tracksHtml}\n        </ul>\n      `;\n\n      albumsContainer.appendChild(albumDiv);\n    });\n  } catch (err) {\n    console.error('Error loading albums:', err);\n  }\n}\n\nfunction closeModal() {\n  modal.classList.add('hidden');\n  document.body.style.overflow = '';\n  dynamicListeners.forEach(({ el, event, handler }) =>\n    el.removeEventListener(event, handler)\n  );\n  dynamicListeners = [];\n}\n\nfunction addDynamicListener(el, event, handler) {\n  el.addEventListener(event, handler);\n  dynamicListeners.push({ el, event, handler });\n}\n\n// Init\ncloseBtn.addEventListener('click', closeModal);\noverlay.addEventListener('click', closeModal);\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape') closeModal();\n});\n\n//Click outside the modal\nmodal.addEventListener('click', e => {\n  const content = modal.querySelector('.modal-content');\n  if (!content.contains(e.target)) {\n    closeModal();\n  }\n});\n\n// --- Opening modal by click on Learn more ---\ngallery.addEventListener('click', e => {\n  const learnMoreBtn = e.target.closest('.js-learn-more');\n  if (!learnMoreBtn) return;\n\n  e.preventDefault();\n  const artistId = learnMoreBtn.dataset.id;\n  if (artistId) openArtistModal(artistId);\n});\n","import { fetchArtists } from './soundwave-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst gallery = document.querySelector('.artist-gallery');\nconst loadMoreBtn = document.querySelector('.artists-btn-load');\n\nlet artists = [];\nlet currentPage = 1;\nconst limit = 8;\nlet maxPage = 0;\n\nfunction createCardMarkup(artist) {\n  return `\n    <li class=\"artist-card\">\n      <img src=\"${artist.strArtistThumb}\" alt=\"${artist.strArtist}\">\n      <ul class=\"artist-genres\">\n        ${artist.genres\n          .map(genre => `<li class=\"genre-item\">${genre}</li>`)\n          .join('')}\n      </ul>\n      <div class=\"artist-container-info\">\n      <h3 class=\"artists-name\">${artist.strArtist}</h3>\n      <p class=\"artists-info\">${artist.strBiographyEN.substring(0, 100)}...</p>\n      </div>\n      <a href=\"./modal.html?id=${artist._id}\"\n         class=\"link artists-link js-learn-more\"\n         data-id=\"${artist._id}\">\n        Learn more<span class=\"artists-arrow\">▶</span>\n      </a>\n    </li>\n  `;\n}\n\nfunction createGallery(artistsArray) {\n  return artistsArray.map(createCardMarkup).join('');\n}\n\nasync function loadArtists(page = 1) {\n  try {\n    const res = await fetchArtists(page, limit);\n\n    if (!res.artists || res.artists.length === 0) {\n      iziToast.error({\n        position: 'topRight',\n        message: 'No more artists',\n      });\n      hideLoadMoreButton();\n      return;\n    }\n\n    artists = [...artists, ...res.artists];\n    gallery.insertAdjacentHTML('beforeend', createGallery(res.artists));\n\n    maxPage = Math.ceil(res.totalArtists / limit);\n    checkBtnVisibleStatus();\n  } catch (error) {\n    console.error('Error loading artists:', error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to load artists',\n      position: 'topRight',\n      color: 'red',\n    });\n  }\n}\n\nloadMoreBtn.addEventListener('click', async () => {\n  currentPage += 1;\n  loadMoreBtn.disabled = true;\n  await loadArtists(currentPage);\n  loadMoreBtn.disabled = false;\n});\n\nfunction checkBtnVisibleStatus() {\n  if (currentPage < maxPage) {\n    showLoadMoreButton();\n  } else {\n    hideLoadMoreButton();\n  }\n}\n\nfunction showLoadMoreButton() {\n  loadMoreBtn.style.display = 'block';\n}\nfunction hideLoadMoreButton() {\n  loadMoreBtn.style.display = 'none';\n}\n\nloadArtists(currentPage);\n","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\nimport { fetchFeedbacks } from './soundwave-api.js';\n\nconst swiperWrapper = document.querySelector('.feedback-swiper .swiper-wrapper');\nconst nextBtn = document.querySelector('.swiper-button-next');\nconst prevBtn = document.querySelector('.swiper-button-prev');\nconst dots = document.querySelectorAll('.custom-pagination .dot');\n\n\nfunction createFeedbackCard(feedback) {\n  const slide = document.createElement('div');\n  slide.classList.add('swiper-slide', 'feedback-card');\n\n  const rating = Math.round(feedback.rating ?? 0);\n  let stars = '';\n  for (let i = 1; i <= 5; i++) {\n    stars += `<span class=\"star\" style=\"color: ${i <= rating ? '#764191' : '#ffffff'};\">★</span>`;\n  }\n\n  slide.innerHTML = `\n    <div class=\"feedback-rating\">${stars}</div>\n    <p class=\"feedback-text\">${feedback.descr}</p>\n    <div class=\"feedback-author\">${feedback.name}</div>\n  `;\n  return slide;\n}\n\nasync function initFeedbacks() {\n  try {\n    const allFeedbacks = await fetchFeedbacks();\n    const feedbacks = allFeedbacks.slice(0, 10);\n\n    feedbacks.forEach(f => swiperWrapper.appendChild(createFeedbackCard(f)));\n\n    const swiper = new Swiper('.feedback-swiper', {\n      slidesPerView: 1,\n      spaceBetween: 20,\n      loop: false,\n      navigation: {\n        nextEl: nextBtn,\n        prevEl: prevBtn,\n      },\n      keyboard: { enabled: true },\n      on: {\n        slideChange: function () {\n         \n          prevBtn.classList.toggle('swiper-button-disabled', this.isBeginning);\n          nextBtn.classList.toggle('swiper-button-disabled', this.isEnd);\n\n         \n          dots.forEach(dot => dot.classList.remove('active'));\n          if (this.activeIndex === 0) dots[0].classList.add('active');\n          else if (this.activeIndex === 9) dots[2].classList.add('active');\n          else dots[1].classList.add('active');\n        },\n      },\n    });\n\n    prevBtn.classList.add('swiper-button-disabled');\n    if (feedbacks.length <= 1) nextBtn.classList.add('swiper-button-disabled');\n\n    dots.forEach(dot => {\n      dot.addEventListener('click', () => {\n        const index = dot.dataset.index;\n        if (index === 'first') swiper.slideTo(0);\n        if (index === 'middle') swiper.slideTo(1);\n        if (index === 'last') swiper.slideTo(9);\n      });\n    });\n\n    dots[0].classList.add('active');\n\n  } catch (error) {\n    console.error('Failed to load feedbacks:', error);\n    swiperWrapper.innerHTML = '<p>Failed to load feedbacks.</p>';\n  }\n}\n\ninitFeedbacks();\n\n// Feedback modal\n\nconst leaveFeedbackBtn = document.querySelector('.leave-feedback-btn');\nconst feedbackModal    = document.getElementById('feedbackModal');\nconst feedbackForm     = feedbackModal.querySelector('.feedback-modal-form');\nconst modalCloseBtn    = feedbackModal.querySelector('.feedback-modal-close');\n\nconst nameInput    = document.getElementById('user-name');\nconst messageInput = document.getElementById('user-feedback');\nconst ratingInput  = document.getElementById('ratingValue');\nconst ratingError  = document.getElementById('ratingError');\n\n\nfunction openModal() {\n  feedbackModal.classList.remove('hidden');       \n  document.body.style.overflow = 'hidden';        \n  nameInput.focus();\n}\n\nfunction closeModal() {\n  feedbackModal.classList.add('hidden');         \n  document.body.style.overflow = '';       \n  \n  clearError(nameInput);\n  clearError(messageInput);\n  ratingError.textContent = '';\n}\n\nleaveFeedbackBtn.addEventListener('click', openModal);\nmodalCloseBtn.addEventListener('click', closeModal);\nfeedbackModal.addEventListener('click', (e) => {\n  if (e.target === feedbackModal) closeModal();  \n});\ndocument.addEventListener('keydown', (e) => {\n  if (e.key === 'Escape' && !feedbackModal.classList.contains('hidden')) {\n    closeModal();\n  }\n});\n\n\nconst stars = Array.from(document.querySelectorAll('.modal-star'));\n\nfunction paintStars(r) {\n  stars.forEach(star => {\n    const v = Number(star.dataset.value);\n    star.classList.toggle('active', v <= r);\n  });\n}\n\nstars.forEach(star => {\n  star.addEventListener('mouseenter', () => paintStars(Number(star.dataset.value)));\n  star.addEventListener('mouseleave', () => paintStars(Number(ratingInput.value)));\n  star.addEventListener('click', () => {\n    ratingInput.value = String(Number(star.dataset.value));\n    paintStars(Number(ratingInput.value));\n    ratingError.textContent = '';\n  });\n});\n\n\nfunction setError(inputEl, msg) {\n  inputEl.classList.add('input-error');\n \n  if (msg && inputEl === nameInput)   ratingError.textContent = msg;\n  if (msg && inputEl === messageInput) ratingError.textContent = msg;\n}\nfunction clearError(inputEl) {\n  inputEl.classList.remove('input-error');\n}\nfunction validate() {\n  let ok = true;\n  ratingError.textContent = '';\n\n\n  const name = nameInput.value.trim();\n  if (name.length < 2 || name.length > 50) {\n    setError(nameInput, 'Name must be 2-50 characters.');\n    ok = false;\n  } else {\n    clearError(nameInput);\n  }\n\n  const msg = messageInput.value.trim();\n  if (msg.length < 5 || msg.length > 500) {\n    setError(messageInput, 'Message must be 5-500 characters.');\n    ok = false;\n  } else {\n    clearError(messageInput);\n  }\n\n  const rating = Number(ratingInput.value);\n  if (!rating || rating < 1 || rating > 5) {\n    ratingError.textContent = 'Please select a rating.';\n    ok = false;\n  }\n\n  return ok;\n}\n\nfeedbackForm.addEventListener('submit', async (e) => {\n  e.preventDefault();\n  if (!validate()) return;\n\n \n  const payload = {\n    name: nameInput.value.trim(),\n    message: messageInput.value.trim(),\n    rating: Number(ratingInput.value),\n  };\n\n\n  const submitBtn = feedbackForm.querySelector('.feedback-modal-btn');\n  const prevText = submitBtn.textContent;\n  submitBtn.disabled = true;\n  submitBtn.textContent = 'Sending...';\n\n  try {\n    const res = await fetch('/api/feedback', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(payload),\n    });\n\n    if (!res.ok) {\n      ratingError.textContent = 'Validation failed. Check your inputs.';\n      return;\n    }\n\n    feedbackForm.reset();\n    ratingInput.value = '0';\n    paintStars(0);\n    closeModal();\n\n  } catch (err) {\n    console.error('Feedback submit failed:', err);\n    ratingError.textContent = 'Network error. Please try again.';\n  } finally {\n    submitBtn.disabled = false;\n    submitBtn.textContent = prevText;\n  }\n});\n\npaintStars(Number(ratingInput.value));","document.addEventListener('DOMContentLoaded', () => {\n  const refs = {\n    openBtn: document.querySelector('[data-menu-open]'),\n    closeBtns: document.querySelectorAll('[data-menu-close]'),\n    modal: document.querySelector('[data-menu]'),\n  };\n\n  function toggleModal() {\n    refs.modal.classList.toggle('is-open');\n    document.body.classList.toggle('no-scroll');\n  }\n\n  refs.openBtn.addEventListener('click', toggleModal);\n\n  refs.closeBtns.forEach(btn => {\n    btn.addEventListener('click', toggleModal);\n  });\n\n  const navLinks = document.querySelectorAll(\n    '[data-menu-close-artist], [data-menu-close-aboutus], [data-menu-close-reviews]'\n  );\n  navLinks.forEach(link => {\n    link.addEventListener('click', toggleModal);\n  });\n});\n"],"names":["BASE_URL","fetchArtists","page","limit","axios","error","fetchArtistById","id","fetchAlbumsByArtist","fetchFeedbacks","response","SPRITE_URL","modal","overlay","closeBtn","loader","albumsContainer","gallery","dynamicListeners","formatDuration","ms","totalSeconds","minutes","seconds","openArtistModal","artistId","artist","populateModal","err","yearsEl","genderEl","membersEl","genresText","albums","album","albumDiv","tracks","headerHtml","tracksHtml","track","youtubeLink","link","svg","use","closeModal","el","event","handler","learnMoreBtn","loadMoreBtn","artists","currentPage","maxPage","createCardMarkup","genre","createGallery","artistsArray","loadArtists","res","iziToast","hideLoadMoreButton","checkBtnVisibleStatus","showLoadMoreButton","swiperWrapper","nextBtn","prevBtn","dots","createFeedbackCard","feedback","slide","rating","stars","i","initFeedbacks","feedbacks","f","swiper","Swiper","dot","index","leaveFeedbackBtn","feedbackModal","feedbackForm","modalCloseBtn","nameInput","messageInput","ratingInput","ratingError","openModal","clearError","paintStars","r","star","v","setError","inputEl","msg","validate","ok","name","payload","submitBtn","prevText","refs","toggleModal","btn"],"mappings":"owBAEO,MAAMA,EAAW,sCAEjB,eAAeC,EAAaC,EAAO,EAAGC,EAAQ,EAAG,CACtD,GAAI,CAIF,OAHiB,MAAMC,EAAM,IAAI,GAAGJ,CAAQ,WAAY,CACtD,OAAQ,CAAE,KAAAE,EAAM,MAAAC,CAAK,CAC3B,CAAK,GACe,IAClB,OAASE,EAAO,CACd,cAAQ,MAAM,0BAA2BA,CAAK,EACxCA,CACR,CACF,CAEO,eAAeC,EAAgBC,EAAI,CACxC,GAAI,CAEF,OADiB,MAAMH,EAAM,IAAI,GAAGJ,CAAQ,YAAYO,CAAE,EAAE,GAC5C,IAClB,OAASF,EAAO,CACd,cAAQ,MAAM,iCAAiCE,CAAE,IAAKF,CAAK,EACrDA,CACR,CACF,CAEO,eAAeG,EAAoBD,EAAI,CAC5C,GAAI,CAEF,OADiB,MAAMH,EAAM,IAAI,GAAGJ,CAAQ,YAAYO,CAAE,SAAS,GACnD,IAClB,OAASF,EAAO,CACd,cAAQ,MAAM,4CAA4CE,CAAE,IAAKF,CAAK,EAChEA,CACR,CACF,CAGO,eAAeI,GAAiB,CACrC,GAAI,CACF,MAAMC,EAAW,MAAMN,EAAM,IAAI,GAAGJ,CAAQ,YAAY,EAGxD,OAAI,MAAM,QAAQU,EAAS,IAAI,EACtBA,EAAS,KACPA,EAAS,KAAK,MAAQ,MAAM,QAAQA,EAAS,KAAK,IAAI,EACxDA,EAAS,KAAK,KAGd,CAAA,CAEX,OAASL,EAAO,CACd,cAAQ,MAAM,4BAA6BA,CAAK,EAC1CA,CACR,CACF,CCrDA,MAAMM,EAAa,IAAA,IAAA,4CAAA,YAAA,GAAA,EAA8C,KAE3DC,EAAQ,SAAS,eAAe,cAAc,EAC9CC,EAAUD,EAAM,cAAc,gBAAgB,EAC9CE,EAAWF,EAAM,cAAc,cAAc,EAC7CG,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAkB,SAAS,eAAe,eAAe,EACzDC,GAAU,SAAS,cAAc,iBAAiB,EAExD,IAAIC,EAAmB,CAAA,EAGvB,SAASC,GAAeC,EAAI,CAC1B,GAAI,CAACA,GAAM,MAAMA,CAAE,EAAG,MAAO,IAC7B,MAAMC,EAAe,KAAK,MAAMD,EAAK,GAAI,EACnCE,EAAU,KAAK,MAAMD,EAAe,EAAE,EACtCE,EAAUF,EAAe,GAC/B,MAAO,GAAGC,CAAO,IAAIC,EAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,CAAC,EAC1D,CAEA,eAAeC,GAAgBC,EAAU,CACvCb,EAAM,UAAU,OAAO,QAAQ,EAC/B,SAAS,KAAK,MAAM,SAAW,SAC/BG,EAAO,MAAM,QAAU,QAEvB,GAAI,CACF,MAAMW,EAAS,MAAMpB,EAAgBmB,CAAQ,EAC7C,MAAME,GAAcD,CAAM,EAC1BX,EAAO,MAAM,QAAU,MACzB,OAASa,EAAK,CACZ,QAAQ,MAAMA,CAAG,EACjBb,EAAO,YAAc,oBACvB,CACF,CAEA,eAAeY,GAAcD,EAAQ,CACnC,SAAS,eAAe,aAAa,EAAE,YAAcA,EAAO,UAC5D,SAAS,eAAe,cAAc,EAAE,IAAMA,EAAO,gBAAkB,GAGvE,MAAMG,EAAU,SAAS,eAAe,cAAc,EAClDH,EAAO,eAAiBA,EAAO,YACjCG,EAAQ,YAAc,iBAAiBH,EAAO,aAAa,MAAMA,EAAO,WAAW,GAC1EA,EAAO,eAAiB,CAACA,EAAO,YACzCG,EAAQ,YAAc,iBAAiBH,EAAO,aAAa,aAE3DG,EAAQ,YAAc,oCAIxB,MAAMC,EAAW,SAAS,eAAe,eAAe,EAClDC,EAAY,SAAS,eAAe,gBAAgB,EACtDL,EAAO,gBAAkB,UAC3BI,EAAS,YAAc,QAAQJ,EAAO,WAAa,qBAAqB,GACxEI,EAAS,UAAU,OAAO,QAAQ,EAClCC,EAAU,UAAU,IAAI,QAAQ,IAEhCA,EAAU,YAAc,YACtBL,EAAO,YAAc,qBAC3B,GACIK,EAAU,UAAU,OAAO,QAAQ,EACnCD,EAAS,UAAU,IAAI,QAAQ,GAGjC,SAAS,eAAe,gBAAgB,EAAE,YAAc,YACtDJ,EAAO,YAAc,qBACzB,GACE,SAAS,eAAe,YAAY,EAAE,YAAc,cAClDA,EAAO,gBAAkB,qBAC7B,GAGE,IAAIM,EAAa,sBACb,MAAM,QAAQN,EAAO,MAAM,EAC7BM,EAAaN,EAAO,OAAO,KAAK,IAAI,EAC3B,OAAOA,EAAO,QAAW,WAClCM,EAAaN,EAAO,QAEtB,SAAS,eACP,eACJ,EAAI,YAAc,WAAWM,CAAU,GAGrC,GAAI,CACF,MAAMC,EAAS,MAAMzB,EAAoBkB,EAAO,GAAG,EACnDV,EAAgB,UAAY,GAE5BiB,EAAO,WAAW,QAAQC,GAAS,CACjC,MAAMC,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,UAAU,IAAI,OAAO,EAE9B,MAAMC,EAASF,EAAM,QAAU,CAAA,EAEzBG,EAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAQbC,EAAaF,EAChB,IAAIG,GAAS,CACZ,IAAIC,EAAc,GAClB,GAAID,EAAM,MAAO,CACf,MAAME,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,KAAOF,EAAM,MAClBE,EAAK,OAAS,SACdA,EAAK,IAAM,WACXA,EAAK,UAAU,IAAI,cAAc,EACjCA,EAAK,aAAa,aAAc,cAAc,EAE9C,MAAMC,EAAM,SAAS,gBACnB,6BACA,KACd,EACYA,EAAI,aAAa,QAAS,cAAc,EACxCA,EAAI,aAAa,QAAS,IAAI,EAC9BA,EAAI,aAAa,SAAU,IAAI,EAE/B,MAAMC,EAAM,SAAS,gBACnB,6BACA,KACd,EACYA,EAAI,aAAa,OAAQ,GAAGhC,CAAU,eAAe,EACrDgC,EAAI,eAAe,+BAAgC,aAAc,GAAGhC,CAAU,eAAe,EAE7F+B,EAAI,YAAYC,CAAG,EACnBF,EAAK,YAAYC,CAAG,EAEpBF,EAAcC,EAAK,SACrB,CAEA,MAAO;AAAA;AAAA,sBAEKF,EAAM,QAAQ;AAAA;AAAA,0BAEVpB,GAAeoB,EAAM,WAAW,CAAC;AAAA,sBACrCC,CAAW;AAAA;AAAA;AAAA,WAIzB,CAAC,EACA,KAAK,EAAE,EAEVL,EAAS,UAAY;AAAA,cACbD,EAAM,QAAQ;AAAA,UAClBG,CAAU;AAAA;AAAA,YAERC,CAAU;AAAA;AAAA,QAIhBtB,EAAgB,YAAYmB,CAAQ,CACtC,CAAC,CACH,OAASP,EAAK,CACZ,QAAQ,MAAM,wBAAyBA,CAAG,CAC5C,CACF,CAEA,SAASgB,GAAa,CACpBhC,EAAM,UAAU,IAAI,QAAQ,EAC5B,SAAS,KAAK,MAAM,SAAW,GAC/BM,EAAiB,QAAQ,CAAC,CAAE,GAAA2B,EAAI,MAAAC,EAAO,QAAAC,CAAO,IAC5CF,EAAG,oBAAoBC,EAAOC,CAAO,CACzC,EACE7B,EAAmB,CAAA,CACrB,CAQAJ,EAAS,iBAAiB,QAAS8B,CAAU,EAC7C/B,EAAQ,iBAAiB,QAAS+B,CAAU,EAC5C,SAAS,iBAAiB,UAAW,GAAK,CACpC,EAAE,MAAQ,UAAUA,EAAU,CACpC,CAAC,EAGDhC,EAAM,iBAAiB,QAAS,GAAK,CACnBA,EAAM,cAAc,gBAAgB,EACvC,SAAS,EAAE,MAAM,GAC5BgC,EAAU,CAEd,CAAC,EAGD3B,GAAQ,iBAAiB,QAAS,GAAK,CACrC,MAAM+B,EAAe,EAAE,OAAO,QAAQ,gBAAgB,EACtD,GAAI,CAACA,EAAc,OAEnB,EAAE,eAAc,EAChB,MAAMvB,EAAWuB,EAAa,QAAQ,GAClCvB,GAAUD,GAAgBC,CAAQ,CACxC,CAAC,EClMD,MAAMR,GAAU,SAAS,cAAc,iBAAiB,EAClDgC,EAAc,SAAS,cAAc,mBAAmB,EAE9D,IAAIC,EAAU,CAAA,EACVC,EAAc,EAClB,MAAMhD,EAAQ,EACd,IAAIiD,EAAU,EAEd,SAASC,GAAiB3B,EAAQ,CAChC,MAAO;AAAA;AAAA,kBAESA,EAAO,cAAc,UAAUA,EAAO,SAAS;AAAA;AAAA,UAEvDA,EAAO,OACN,IAAI4B,GAAS,0BAA0BA,CAAK,OAAO,EACnD,KAAK,EAAE,CAAC;AAAA;AAAA;AAAA,iCAGc5B,EAAO,SAAS;AAAA,gCACjBA,EAAO,eAAe,UAAU,EAAG,GAAG,CAAC;AAAA;AAAA,iCAEtCA,EAAO,GAAG;AAAA;AAAA,oBAEvBA,EAAO,GAAG;AAAA;AAAA;AAAA;AAAA,GAK9B,CAEA,SAAS6B,GAAcC,EAAc,CACnC,OAAOA,EAAa,IAAIH,EAAgB,EAAE,KAAK,EAAE,CACnD,CAEA,eAAeI,EAAYvD,EAAO,EAAG,CACnC,GAAI,CACF,MAAMwD,EAAM,MAAMzD,EAAaC,EAAMC,CAAK,EAE1C,GAAI,CAACuD,EAAI,SAAWA,EAAI,QAAQ,SAAW,EAAG,CAC5CC,EAAS,MAAM,CACb,SAAU,WACV,QAAS,iBACjB,CAAO,EACDC,EAAkB,EAClB,MACF,CAEAV,EAAU,CAAC,GAAGA,EAAS,GAAGQ,EAAI,OAAO,EACrCzC,GAAQ,mBAAmB,YAAasC,GAAcG,EAAI,OAAO,CAAC,EAElEN,EAAU,KAAK,KAAKM,EAAI,aAAevD,CAAK,EAC5C0D,GAAqB,CACvB,OAASxD,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CsD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yBACT,SAAU,WACV,MAAO,KACb,CAAK,CACH,CACF,CAEAV,EAAY,iBAAiB,QAAS,SAAY,CAChDE,GAAe,EACfF,EAAY,SAAW,GACvB,MAAMQ,EAAYN,CAAW,EAC7BF,EAAY,SAAW,EACzB,CAAC,EAED,SAASY,IAAwB,CAC3BV,EAAcC,EAChBU,GAAkB,EAElBF,EAAkB,CAEtB,CAEA,SAASE,IAAqB,CAC5Bb,EAAY,MAAM,QAAU,OAC9B,CACA,SAASW,GAAqB,CAC5BX,EAAY,MAAM,QAAU,MAC9B,CAEAQ,EAAYN,CAAW,ECrFvB,MAAMY,EAAgB,SAAS,cAAc,kCAAkC,EACzEC,EAAU,SAAS,cAAc,qBAAqB,EACtDC,EAAU,SAAS,cAAc,qBAAqB,EACtDC,EAAO,SAAS,iBAAiB,yBAAyB,EAGhE,SAASC,GAAmBC,EAAU,CACpC,MAAMC,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,UAAU,IAAI,eAAgB,eAAe,EAEnD,MAAMC,EAAS,KAAK,MAAMF,EAAS,QAAU,CAAC,EAC9C,IAAIG,EAAQ,GACZ,QAASC,EAAI,EAAGA,GAAK,EAAGA,IACtBD,GAAS,oCAAoCC,GAAKF,EAAS,UAAY,SAAS,cAGlF,OAAAD,EAAM,UAAY;AAAA,mCACeE,CAAK;AAAA,+BACTH,EAAS,KAAK;AAAA,mCACVA,EAAS,IAAI;AAAA,IAEvCC,CACT,CAEA,eAAeI,IAAgB,CAC7B,GAAI,CAEF,MAAMC,GADe,MAAMjE,EAAc,GACV,MAAM,EAAG,EAAE,EAE1CiE,EAAU,QAAQC,GAAKZ,EAAc,YAAYI,GAAmBQ,CAAC,CAAC,CAAC,EAEvE,MAAMC,EAAS,IAAIC,EAAO,mBAAoB,CAC5C,cAAe,EACf,aAAc,GACd,KAAM,GACN,WAAY,CACV,OAAQb,EACR,OAAQC,CAChB,EACM,SAAU,CAAE,QAAS,EAAI,EACzB,GAAI,CACF,YAAa,UAAY,CAEvBA,EAAQ,UAAU,OAAO,yBAA0B,KAAK,WAAW,EACnED,EAAQ,UAAU,OAAO,yBAA0B,KAAK,KAAK,EAG7DE,EAAK,QAAQY,GAAOA,EAAI,UAAU,OAAO,QAAQ,CAAC,EAC9C,KAAK,cAAgB,EAAGZ,EAAK,CAAC,EAAE,UAAU,IAAI,QAAQ,EACjD,KAAK,cAAgB,EAAGA,EAAK,CAAC,EAAE,UAAU,IAAI,QAAQ,EAC1DA,EAAK,CAAC,EAAE,UAAU,IAAI,QAAQ,CACrC,CACR,CACA,CAAK,EAEDD,EAAQ,UAAU,IAAI,wBAAwB,EAC1CS,EAAU,QAAU,GAAGV,EAAQ,UAAU,IAAI,wBAAwB,EAEzEE,EAAK,QAAQY,GAAO,CAClBA,EAAI,iBAAiB,QAAS,IAAM,CAClC,MAAMC,EAAQD,EAAI,QAAQ,MACtBC,IAAU,SAASH,EAAO,QAAQ,CAAC,EACnCG,IAAU,UAAUH,EAAO,QAAQ,CAAC,EACpCG,IAAU,QAAQH,EAAO,QAAQ,CAAC,CACxC,CAAC,CACH,CAAC,EAEDV,EAAK,CAAC,EAAE,UAAU,IAAI,QAAQ,CAEhC,OAAS7D,EAAO,CACd,QAAQ,MAAM,4BAA6BA,CAAK,EAChD0D,EAAc,UAAY,kCAC5B,CACF,CAEAU,GAAa,EAIb,MAAMO,GAAmB,SAAS,cAAc,qBAAqB,EAC/DC,EAAmB,SAAS,eAAe,eAAe,EAC1DC,EAAmBD,EAAc,cAAc,sBAAsB,EACrEE,GAAmBF,EAAc,cAAc,uBAAuB,EAEtEG,EAAe,SAAS,eAAe,WAAW,EAClDC,EAAe,SAAS,eAAe,eAAe,EACtDC,EAAe,SAAS,eAAe,aAAa,EACpDC,EAAe,SAAS,eAAe,aAAa,EAG1D,SAASC,IAAY,CACnBP,EAAc,UAAU,OAAO,QAAQ,EACvC,SAAS,KAAK,MAAM,SAAW,SAC/BG,EAAU,MAAK,CACjB,CAEA,SAASxC,GAAa,CACpBqC,EAAc,UAAU,IAAI,QAAQ,EACpC,SAAS,KAAK,MAAM,SAAW,GAE/BQ,EAAWL,CAAS,EACpBK,EAAWJ,CAAY,EACvBE,EAAY,YAAc,EAC5B,CAEAP,GAAiB,iBAAiB,QAASQ,EAAS,EACpDL,GAAc,iBAAiB,QAASvC,CAAU,EAClDqC,EAAc,iBAAiB,QAAU,GAAM,CACzC,EAAE,SAAWA,GAAerC,EAAU,CAC5C,CAAC,EACD,SAAS,iBAAiB,UAAY,GAAM,CACtC,EAAE,MAAQ,UAAY,CAACqC,EAAc,UAAU,SAAS,QAAQ,GAClErC,EAAU,CAEd,CAAC,EAGD,MAAM2B,EAAQ,MAAM,KAAK,SAAS,iBAAiB,aAAa,CAAC,EAEjE,SAASmB,EAAWC,EAAG,CACrBpB,EAAM,QAAQqB,GAAQ,CACpB,MAAMC,EAAI,OAAOD,EAAK,QAAQ,KAAK,EACnCA,EAAK,UAAU,OAAO,SAAUC,GAAKF,CAAC,CACxC,CAAC,CACH,CAEApB,EAAM,QAAQqB,GAAQ,CACpBA,EAAK,iBAAiB,aAAc,IAAMF,EAAW,OAAOE,EAAK,QAAQ,KAAK,CAAC,CAAC,EAChFA,EAAK,iBAAiB,aAAc,IAAMF,EAAW,OAAOJ,EAAY,KAAK,CAAC,CAAC,EAC/EM,EAAK,iBAAiB,QAAS,IAAM,CACnCN,EAAY,MAAQ,OAAO,OAAOM,EAAK,QAAQ,KAAK,CAAC,EACrDF,EAAW,OAAOJ,EAAY,KAAK,CAAC,EACpCC,EAAY,YAAc,EAC5B,CAAC,CACH,CAAC,EAGD,SAASO,EAASC,EAASC,EAAK,CAC9BD,EAAQ,UAAU,IAAI,aAAa,EAE/BC,GAAOD,IAAYX,IAAaG,EAAY,YAAcS,GAC1DA,GAAOD,IAAYV,IAAcE,EAAY,YAAcS,EACjE,CACA,SAASP,EAAWM,EAAS,CAC3BA,EAAQ,UAAU,OAAO,aAAa,CACxC,CACA,SAASE,IAAW,CAClB,IAAIC,EAAK,GACTX,EAAY,YAAc,GAG1B,MAAMY,EAAOf,EAAU,MAAM,KAAI,EAC7Be,EAAK,OAAS,GAAKA,EAAK,OAAS,IACnCL,EAASV,EAAW,+BAA+B,EACnDc,EAAK,IAELT,EAAWL,CAAS,EAGtB,MAAMY,EAAMX,EAAa,MAAM,KAAI,EAC/BW,EAAI,OAAS,GAAKA,EAAI,OAAS,KACjCF,EAAST,EAAc,mCAAmC,EAC1Da,EAAK,IAELT,EAAWJ,CAAY,EAGzB,MAAMf,EAAS,OAAOgB,EAAY,KAAK,EACvC,OAAI,CAAChB,GAAUA,EAAS,GAAKA,EAAS,KACpCiB,EAAY,YAAc,0BAC1BW,EAAK,IAGAA,CACT,CAEAhB,EAAa,iBAAiB,SAAU,MAAO,GAAM,CAEnD,GADA,EAAE,eAAc,EACZ,CAACe,GAAQ,EAAI,OAGjB,MAAMG,EAAU,CACd,KAAMhB,EAAU,MAAM,KAAI,EAC1B,QAASC,EAAa,MAAM,KAAI,EAChC,OAAQ,OAAOC,EAAY,KAAK,CACpC,EAGQe,EAAYnB,EAAa,cAAc,qBAAqB,EAC5DoB,EAAWD,EAAU,YAC3BA,EAAU,SAAW,GACrBA,EAAU,YAAc,aAExB,GAAI,CAOF,GAAI,EANQ,MAAM,MAAM,gBAAiB,CACvC,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAkB,EAC7C,KAAM,KAAK,UAAUD,CAAO,CAClC,CAAK,GAEQ,GAAI,CACXb,EAAY,YAAc,wCAC1B,MACF,CAEAL,EAAa,MAAK,EAClBI,EAAY,MAAQ,IACpBI,EAAW,CAAC,EACZ9C,EAAU,CAEZ,OAAShB,EAAK,CACZ,QAAQ,MAAM,0BAA2BA,CAAG,EAC5C2D,EAAY,YAAc,kCAC5B,QAAC,CACCc,EAAU,SAAW,GACrBA,EAAU,YAAcC,CAC1B,CACF,CAAC,EAEDZ,EAAW,OAAOJ,EAAY,KAAK,CAAC,EC/NpC,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMiB,EAAO,CACX,QAAS,SAAS,cAAc,kBAAkB,EAClD,UAAW,SAAS,iBAAiB,mBAAmB,EACxD,MAAO,SAAS,cAAc,aAAa,CAC/C,EAEE,SAASC,GAAc,CACrBD,EAAK,MAAM,UAAU,OAAO,SAAS,EACrC,SAAS,KAAK,UAAU,OAAO,WAAW,CAC5C,CAEAA,EAAK,QAAQ,iBAAiB,QAASC,CAAW,EAElDD,EAAK,UAAU,QAAQE,GAAO,CAC5BA,EAAI,iBAAiB,QAASD,CAAW,CAC3C,CAAC,EAEgB,SAAS,iBACxB,gFACJ,EACW,QAAQ/D,GAAQ,CACvBA,EAAK,iBAAiB,QAAS+D,CAAW,CAC5C,CAAC,CACH,CAAC"}